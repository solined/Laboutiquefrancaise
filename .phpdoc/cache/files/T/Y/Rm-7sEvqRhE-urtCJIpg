1646515361
AwuilbDvXz%3Afcfdfefc7c1fad87021d90b9dc2a7234-2fc150e18a1322e25f633b0fe525b114
s:10456:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxMjp7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBkb2NCbG9jayI7TjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGhhc2giO3M6MzI6IjJmYzE1MGUxOGExMzIyZTI1ZjYzM2IwZmU1MjViMTE0IjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWUiO3M6MzE6IlJlc2V0UGFzc3dvcmRDb250cm9sbGVyLnRwbC5waHAiO3M6Mzk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAcGF0aCI7czo5NjoidmVuZG9yL3N5bWZvbnkvbWFrZXItYnVuZGxlL3NyYy9SZXNvdXJjZXMvc2tlbGV0b24vcmVzZXRQYXNzd29yZC9SZXNldFBhc3N3b3JkQ29udHJvbGxlci50cGwucGhwIjtzOjQxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHNvdXJjZSI7czo2OTU4OiI8Pz0gIjw/cGhwXG4iID8+CgpuYW1lc3BhY2UgPD89ICRuYW1lc3BhY2UgPz47Cgp1c2UgPD89ICR1c2VyX2Z1bGxfY2xhc3NfbmFtZSA/PjsKdXNlIDw/PSAkcmVzZXRfZm9ybV90eXBlX2Z1bGxfY2xhc3NfbmFtZSA/PjsKdXNlIDw/PSAkcmVxdWVzdF9mb3JtX3R5cGVfZnVsbF9jbGFzc19uYW1lID8+Owp1c2UgU3ltZm9ueVxCcmlkZ2VcVHdpZ1xNaW1lXFRlbXBsYXRlZEVtYWlsOwp1c2UgU3ltZm9ueVxCdW5kbGVcRnJhbWV3b3JrQnVuZGxlXENvbnRyb2xsZXJcQWJzdHJhY3RDb250cm9sbGVyOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcSHR0cEZvdW5kYXRpb25cUmVkaXJlY3RSZXNwb25zZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XEh0dHBGb3VuZGF0aW9uXFJlcXVlc3Q7CnVzZSBTeW1mb255XENvbXBvbmVudFxIdHRwRm91bmRhdGlvblxSZXNwb25zZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XE1haWxlclxNYWlsZXJJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxNaW1lXEFkZHJlc3M7CnVzZSBTeW1mb255XENvbXBvbmVudFxSb3V0aW5nXEFubm90YXRpb25cUm91dGU7CnVzZSBTeW1mb255XENvbXBvbmVudFxTZWN1cml0eVxDb3JlXEVuY29kZXJcVXNlclBhc3N3b3JkRW5jb2RlckludGVyZmFjZTsKdXNlIFN5bWZvbnlDYXN0c1xCdW5kbGVcUmVzZXRQYXNzd29yZFxDb250cm9sbGVyXFJlc2V0UGFzc3dvcmRDb250cm9sbGVyVHJhaXQ7CnVzZSBTeW1mb255Q2FzdHNcQnVuZGxlXFJlc2V0UGFzc3dvcmRcRXhjZXB0aW9uXFJlc2V0UGFzc3dvcmRFeGNlcHRpb25JbnRlcmZhY2U7CnVzZSBTeW1mb255Q2FzdHNcQnVuZGxlXFJlc2V0UGFzc3dvcmRcUmVzZXRQYXNzd29yZEhlbHBlckludGVyZmFjZTsKCjw/cGhwIGlmICgkdXNlX2F0dHJpYnV0ZXMpIHsgPz4KI1tSb3V0ZSgnL3Jlc2V0LXBhc3N3b3JkJyldCjw/cGhwIH0gZWxzZSB7ID8+Ci8qKgogKiBAUm91dGUoIi9yZXNldC1wYXNzd29yZCIpCiAqLwo8P3BocCB9ID8+CmNsYXNzIDw/PSAkY2xhc3NfbmFtZSA/PiBleHRlbmRzIEFic3RyYWN0Q29udHJvbGxlcgp7CiAgICB1c2UgUmVzZXRQYXNzd29yZENvbnRyb2xsZXJUcmFpdDsKCiAgICBwcml2YXRlICRyZXNldFBhc3N3b3JkSGVscGVyOwoKICAgIHB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChSZXNldFBhc3N3b3JkSGVscGVySW50ZXJmYWNlICRyZXNldFBhc3N3b3JkSGVscGVyKQogICAgewogICAgICAgICR0aGlzLT5yZXNldFBhc3N3b3JkSGVscGVyID0gJHJlc2V0UGFzc3dvcmRIZWxwZXI7CiAgICB9CgogICAgLyoqCiAgICAgKiBEaXNwbGF5ICYgcHJvY2VzcyBmb3JtIHRvIHJlcXVlc3QgYSBwYXNzd29yZCByZXNldC4KICAgICAqCjw/cGhwIGlmICgkdXNlX2F0dHJpYnV0ZXMpIHsgPz4KICAgICAqLwogICAgI1tSb3V0ZSgnJywgbmFtZTogJ2FwcF9mb3Jnb3RfcGFzc3dvcmRfcmVxdWVzdCcpXQo8P3BocCB9IGVsc2UgeyA/PgogICAgICogQFJvdXRlKCIiLCBuYW1lPSJhcHBfZm9yZ290X3Bhc3N3b3JkX3JlcXVlc3QiKQogICAgICovCjw/cGhwIH0gPz4KICAgIHB1YmxpYyBmdW5jdGlvbiByZXF1ZXN0KFJlcXVlc3QgJHJlcXVlc3QsIE1haWxlckludGVyZmFjZSAkbWFpbGVyKTogUmVzcG9uc2UKICAgIHsKICAgICAgICAkZm9ybSA9ICR0aGlzLT5jcmVhdGVGb3JtKDw/PSAkcmVxdWVzdF9mb3JtX3R5cGVfY2xhc3NfbmFtZSA/Pjo6Y2xhc3MpOwogICAgICAgICRmb3JtLT5oYW5kbGVSZXF1ZXN0KCRyZXF1ZXN0KTsKCiAgICAgICAgaWYgKCRmb3JtLT5pc1N1Ym1pdHRlZCgpICYmICRmb3JtLT5pc1ZhbGlkKCkpIHsKICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5wcm9jZXNzU2VuZGluZ1Bhc3N3b3JkUmVzZXRFbWFpbCgKICAgICAgICAgICAgICAgICRmb3JtLT5nZXQoJzw/PSAkZW1haWxfZmllbGQgPz4nKS0+Z2V0RGF0YSgpLAogICAgICAgICAgICAgICAgJG1haWxlcgogICAgICAgICAgICApOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuICR0aGlzLT5yZW5kZXIoJ3Jlc2V0X3Bhc3N3b3JkL3JlcXVlc3QuaHRtbC50d2lnJywgWwogICAgICAgICAgICAncmVxdWVzdEZvcm0nID0+ICRmb3JtLT5jcmVhdGVWaWV3KCksCiAgICAgICAgXSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBDb25maXJtYXRpb24gcGFnZSBhZnRlciBhIHVzZXIgaGFzIHJlcXVlc3RlZCBhIHBhc3N3b3JkIHJlc2V0LgogICAgICoKPD9waHAgaWYgKCR1c2VfYXR0cmlidXRlcykgeyA/PgogICAgICovCiAgICAjW1JvdXRlKCcvY2hlY2stZW1haWwnLCBuYW1lOiAnYXBwX2NoZWNrX2VtYWlsJyldCjw/cGhwIH0gZWxzZSB7ID8+CiAgICAgKiBAUm91dGUoIi9jaGVjay1lbWFpbCIsIG5hbWU9ImFwcF9jaGVja19lbWFpbCIpCiAgICAgKi8KPD9waHAgfSA/PgogICAgcHVibGljIGZ1bmN0aW9uIGNoZWNrRW1haWwoKTogUmVzcG9uc2UKICAgIHsKICAgICAgICAvLyBXZSBwcmV2ZW50IHVzZXJzIGZyb20gZGlyZWN0bHkgYWNjZXNzaW5nIHRoaXMgcGFnZQogICAgICAgIGlmICghJHRoaXMtPmNhbkNoZWNrRW1haWwoKSkgewogICAgICAgICAgICByZXR1cm4gJHRoaXMtPnJlZGlyZWN0VG9Sb3V0ZSgnYXBwX2ZvcmdvdF9wYXNzd29yZF9yZXF1ZXN0Jyk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gJHRoaXMtPnJlbmRlcigncmVzZXRfcGFzc3dvcmQvY2hlY2tfZW1haWwuaHRtbC50d2lnJywgWwogICAgICAgICAgICAndG9rZW5MaWZldGltZScgPT4gJHRoaXMtPnJlc2V0UGFzc3dvcmRIZWxwZXItPmdldFRva2VuTGlmZXRpbWUoKSwKICAgICAgICBdKTsKICAgIH0KCiAgICAvKioKICAgICAqIFZhbGlkYXRlcyBhbmQgcHJvY2VzcyB0aGUgcmVzZXQgVVJMIHRoYXQgdGhlIHVzZXIgY2xpY2tlZCBpbiB0aGVpciBlbWFpbC4KICAgICAqCjw/cGhwIGlmICgkdXNlX2F0dHJpYnV0ZXMpIHsgPz4KICAgICAqLwogICAgI1tSb3V0ZSgnL3Jlc2V0L3t0b2tlbn0nLCBuYW1lOiAnYXBwX3Jlc2V0X3Bhc3N3b3JkJyldCjw/cGhwIH0gZWxzZSB7ID8+CiAgICAgKiBAUm91dGUoIi9yZXNldC97dG9rZW59IiwgbmFtZT0iYXBwX3Jlc2V0X3Bhc3N3b3JkIikKICAgICAqLwo8P3BocCB9ID8+CiAgICBwdWJsaWMgZnVuY3Rpb24gcmVzZXQoUmVxdWVzdCAkcmVxdWVzdCwgVXNlclBhc3N3b3JkRW5jb2RlckludGVyZmFjZSAkcGFzc3dvcmRFbmNvZGVyLCBzdHJpbmcgJHRva2VuID0gbnVsbCk6IFJlc3BvbnNlCiAgICB7CiAgICAgICAgaWYgKCR0b2tlbikgewogICAgICAgICAgICAvLyBXZSBzdG9yZSB0aGUgdG9rZW4gaW4gc2Vzc2lvbiBhbmQgcmVtb3ZlIGl0IGZyb20gdGhlIFVSTCwgdG8gYXZvaWQgdGhlIFVSTCBiZWluZwogICAgICAgICAgICAvLyBsb2FkZWQgaW4gYSBicm93c2VyIGFuZCBwb3RlbnRpYWxseSBsZWFraW5nIHRoZSB0b2tlbiB0byAzcmQgcGFydHkgSmF2YVNjcmlwdC4KICAgICAgICAgICAgJHRoaXMtPnN0b3JlVG9rZW5JblNlc3Npb24oJHRva2VuKTsKCiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+cmVkaXJlY3RUb1JvdXRlKCdhcHBfcmVzZXRfcGFzc3dvcmQnKTsKICAgICAgICB9CgogICAgICAgICR0b2tlbiA9ICR0aGlzLT5nZXRUb2tlbkZyb21TZXNzaW9uKCk7CiAgICAgICAgaWYgKG51bGwgPT09ICR0b2tlbikgewogICAgICAgICAgICB0aHJvdyAkdGhpcy0+Y3JlYXRlTm90Rm91bmRFeGNlcHRpb24oJ05vIHJlc2V0IHBhc3N3b3JkIHRva2VuIGZvdW5kIGluIHRoZSBVUkwgb3IgaW4gdGhlIHNlc3Npb24uJyk7CiAgICAgICAgfQoKICAgICAgICB0cnkgewogICAgICAgICAgICAkdXNlciA9ICR0aGlzLT5yZXNldFBhc3N3b3JkSGVscGVyLT52YWxpZGF0ZVRva2VuQW5kRmV0Y2hVc2VyKCR0b2tlbik7CiAgICAgICAgfSBjYXRjaCAoUmVzZXRQYXNzd29yZEV4Y2VwdGlvbkludGVyZmFjZSAkZSkgewogICAgICAgICAgICAkdGhpcy0+YWRkRmxhc2goJ3Jlc2V0X3Bhc3N3b3JkX2Vycm9yJywgc3ByaW50ZigKICAgICAgICAgICAgICAgICdUaGVyZSB3YXMgYSBwcm9ibGVtIHZhbGlkYXRpbmcgeW91ciByZXNldCByZXF1ZXN0IC0gJXMnLAogICAgICAgICAgICAgICAgJGUtPmdldFJlYXNvbigpCiAgICAgICAgICAgICkpOwoKICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5yZWRpcmVjdFRvUm91dGUoJ2FwcF9mb3Jnb3RfcGFzc3dvcmRfcmVxdWVzdCcpOwogICAgICAgIH0KCiAgICAgICAgLy8gVGhlIHRva2VuIGlzIHZhbGlkOyBhbGxvdyB0aGUgdXNlciB0byBjaGFuZ2UgdGhlaXIgcGFzc3dvcmQuCiAgICAgICAgJGZvcm0gPSAkdGhpcy0+Y3JlYXRlRm9ybSg8Pz0gJHJlc2V0X2Zvcm1fdHlwZV9jbGFzc19uYW1lID8+OjpjbGFzcyk7CiAgICAgICAgJGZvcm0tPmhhbmRsZVJlcXVlc3QoJHJlcXVlc3QpOwoKICAgICAgICBpZiAoJGZvcm0tPmlzU3VibWl0dGVkKCkgJiYgJGZvcm0tPmlzVmFsaWQoKSkgewogICAgICAgICAgICAvLyBBIHBhc3N3b3JkIHJlc2V0IHRva2VuIHNob3VsZCBiZSB1c2VkIG9ubHkgb25jZSwgcmVtb3ZlIGl0LgogICAgICAgICAgICAkdGhpcy0+cmVzZXRQYXNzd29yZEhlbHBlci0+cmVtb3ZlUmVzZXRSZXF1ZXN0KCR0b2tlbik7CgogICAgICAgICAgICAvLyBFbmNvZGUgdGhlIHBsYWluIHBhc3N3b3JkLCBhbmQgc2V0IGl0LgogICAgICAgICAgICAkZW5jb2RlZFBhc3N3b3JkID0gJHBhc3N3b3JkRW5jb2Rlci0+ZW5jb2RlUGFzc3dvcmQoCiAgICAgICAgICAgICAgICAkdXNlciwKICAgICAgICAgICAgICAgICRmb3JtLT5nZXQoJ3BsYWluUGFzc3dvcmQnKS0+Z2V0RGF0YSgpCiAgICAgICAgICAgICk7CgogICAgICAgICAgICAkdXNlci0+PD89ICRwYXNzd29yZF9zZXR0ZXIgPz4oJGVuY29kZWRQYXNzd29yZCk7CiAgICAgICAgICAgICR0aGlzLT5nZXREb2N0cmluZSgpLT5nZXRNYW5hZ2VyKCktPmZsdXNoKCk7CgogICAgICAgICAgICAvLyBUaGUgc2Vzc2lvbiBpcyBjbGVhbmVkIHVwIGFmdGVyIHRoZSBwYXNzd29yZCBoYXMgYmVlbiBjaGFuZ2VkLgogICAgICAgICAgICAkdGhpcy0+Y2xlYW5TZXNzaW9uQWZ0ZXJSZXNldCgpOwoKICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5yZWRpcmVjdFRvUm91dGUoJzw/PSAkc3VjY2Vzc19yZWRpcmVjdF9yb3V0ZSA/PicpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuICR0aGlzLT5yZW5kZXIoJ3Jlc2V0X3Bhc3N3b3JkL3Jlc2V0Lmh0bWwudHdpZycsIFsKICAgICAgICAgICAgJ3Jlc2V0Rm9ybScgPT4gJGZvcm0tPmNyZWF0ZVZpZXcoKSwKICAgICAgICBdKTsKICAgIH0KCiAgICBwcml2YXRlIGZ1bmN0aW9uIHByb2Nlc3NTZW5kaW5nUGFzc3dvcmRSZXNldEVtYWlsKHN0cmluZyAkZW1haWxGb3JtRGF0YSwgTWFpbGVySW50ZXJmYWNlICRtYWlsZXIpOiBSZWRpcmVjdFJlc3BvbnNlCiAgICB7CiAgICAgICAgJHVzZXIgPSAkdGhpcy0+Z2V0RG9jdHJpbmUoKS0+Z2V0UmVwb3NpdG9yeSg8Pz0gJHVzZXJfY2xhc3NfbmFtZSA/Pjo6Y2xhc3MpLT5maW5kT25lQnkoWwogICAgICAgICAgICAnPD89ICRlbWFpbF9maWVsZCA/PicgPT4gJGVtYWlsRm9ybURhdGEsCiAgICAgICAgXSk7CgogICAgICAgIC8vIE1hcmtzIHRoYXQgeW91IGFyZSBhbGxvd2VkIHRvIHNlZSB0aGUgYXBwX2NoZWNrX2VtYWlsIHBhZ2UuCiAgICAgICAgJHRoaXMtPnNldENhbkNoZWNrRW1haWxJblNlc3Npb24oKTsKCiAgICAgICAgLy8gRG8gbm90IHJldmVhbCB3aGV0aGVyIGEgdXNlciBhY2NvdW50IHdhcyBmb3VuZCBvciBub3QuCiAgICAgICAgaWYgKCEkdXNlcikgewogICAgICAgICAgICByZXR1cm4gJHRoaXMtPnJlZGlyZWN0VG9Sb3V0ZSgnYXBwX2NoZWNrX2VtYWlsJyk7CiAgICAgICAgfQoKICAgICAgICB0cnkgewogICAgICAgICAgICAkcmVzZXRUb2tlbiA9ICR0aGlzLT5yZXNldFBhc3N3b3JkSGVscGVyLT5nZW5lcmF0ZVJlc2V0VG9rZW4oJHVzZXIpOwogICAgICAgIH0gY2F0Y2ggKFJlc2V0UGFzc3dvcmRFeGNlcHRpb25JbnRlcmZhY2UgJGUpIHsKICAgICAgICAgICAgLy8gSWYgeW91IHdhbnQgdG8gdGVsbCB0aGUgdXNlciB3aHkgYSByZXNldCBlbWFpbCB3YXMgbm90IHNlbnQsIHVuY29tbWVudAogICAgICAgICAgICAvLyB0aGUgbGluZXMgYmVsb3cgYW5kIGNoYW5nZSB0aGUgcmVkaXJlY3QgdG8gJ2FwcF9mb3Jnb3RfcGFzc3dvcmRfcmVxdWVzdCcuCiAgICAgICAgICAgIC8vIENhdXRpb246IFRoaXMgbWF5IHJldmVhbCBpZiBhIHVzZXIgaXMgcmVnaXN0ZXJlZCBvciBub3QuCiAgICAgICAgICAgIC8vCiAgICAgICAgICAgIC8vICR0aGlzLT5hZGRGbGFzaCgncmVzZXRfcGFzc3dvcmRfZXJyb3InLCBzcHJpbnRmKAogICAgICAgICAgICAvLyAgICAgJ1RoZXJlIHdhcyBhIHByb2JsZW0gaGFuZGxpbmcgeW91ciBwYXNzd29yZCByZXNldCByZXF1ZXN0IC0gJXMnLAogICAgICAgICAgICAvLyAgICAgJGUtPmdldFJlYXNvbigpCiAgICAgICAgICAgIC8vICkpOwoKICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5yZWRpcmVjdFRvUm91dGUoJ2FwcF9jaGVja19lbWFpbCcpOwogICAgICAgIH0KCiAgICAgICAgJGVtYWlsID0gKG5ldyBUZW1wbGF0ZWRFbWFpbCgpKQogICAgICAgICAgICAtPmZyb20obmV3IEFkZHJlc3MoJzw/PSAkZnJvbV9lbWFpbCA/PicsICc8Pz0gJGZyb21fZW1haWxfbmFtZSA/PicpKQogICAgICAgICAgICAtPnRvKCR1c2VyLT48Pz0gJGVtYWlsX2dldHRlciA/PigpKQogICAgICAgICAgICAtPnN1YmplY3QoJ1lvdXIgcGFzc3dvcmQgcmVzZXQgcmVxdWVzdCcpCiAgICAgICAgICAgIC0+aHRtbFRlbXBsYXRlKCdyZXNldF9wYXNzd29yZC9lbWFpbC5odG1sLnR3aWcnKQogICAgICAgICAgICAtPmNvbnRleHQoWwogICAgICAgICAgICAgICAgJ3Jlc2V0VG9rZW4nID0+ICRyZXNldFRva2VuLAogICAgICAgICAgICBdKQogICAgICAgIDsKCiAgICAgICAgJG1haWxlci0+c2VuZCgkZW1haWwpOwoKICAgICAgICByZXR1cm4gJHRoaXMtPnJlZGlyZWN0VG9Sb3V0ZSgnYXBwX2NoZWNrX2VtYWlsJyk7CiAgICB9Cn0KIjtzOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWVzcGFjZXMiO2E6MDp7fXM6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW5jbHVkZXMiO2E6MDp7fXM6NDQ6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZnVuY3Rpb25zIjthOjA6e31zOjQ0OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGNvbnN0YW50cyI7YTowOnt9czo0MjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBjbGFzc2VzIjthOjA6e31zOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGludGVyZmFjZXMiO2E6MDp7fXM6NDE6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAdHJhaXRzIjthOjA6e319";