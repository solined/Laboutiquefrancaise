1646515363
AwuilbDvXz%3A5de8b9f62402ea88afb20f05e46c4726-7c41e77f8024a410fa3bfa5d5bd3ffe6
s:25276:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxMjp7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBkb2NCbG9jayI7TjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGhhc2giO3M6MzI6IjdjNDFlNzdmODAyNGE0MTBmYTNiZmE1ZDViZDNmZmU2IjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWUiO3M6MTg6InNpbXBsZS1waHB1bml0LnBocCI7czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBwYXRoIjtzOjUyOiJ2ZW5kb3Ivc3ltZm9ueS9waHB1bml0LWJyaWRnZS9iaW4vc2ltcGxlLXBocHVuaXQucGhwIjtzOjQxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHNvdXJjZSI7czoxNzA0NDoiPD9waHAKCi8qCiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHRoZSBTeW1mb255IHBhY2thZ2UuCiAqCiAqIChjKSBGYWJpZW4gUG90ZW5jaWVyIDxmYWJpZW5Ac3ltZm9ueS5jb20+CiAqCiAqIEZvciB0aGUgZnVsbCBjb3B5cmlnaHQgYW5kIGxpY2Vuc2UgaW5mb3JtYXRpb24sIHBsZWFzZSB2aWV3IHRoZSBMSUNFTlNFCiAqIGZpbGUgdGhhdCB3YXMgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHNvdXJjZSBjb2RlLgogKi8KCi8vIFBsZWFzZSB1cGRhdGUgd2hlbiBwaHB1bml0IG5lZWRzIHRvIGJlIHJlaW5zdGFsbGVkIHdpdGggZnJlc2ggZGVwczoKLy8gQ2FjaGUtSWQ6IDIwMjAtMDEtMzEgMTA6MDAgVVRDCgplcnJvcl9yZXBvcnRpbmcoLTEpOwoKZ2xvYmFsICRhcmd2LCAkYXJnYzsKJGFyZ3YgPSBpc3NldCgkX1NFUlZFUlsnYXJndiddKSA/ICRfU0VSVkVSWydhcmd2J10gOiBbXTsKJGFyZ2MgPSBpc3NldCgkX1NFUlZFUlsnYXJnYyddKSA/ICRfU0VSVkVSWydhcmdjJ10gOiAwOwokZ2V0RW52VmFyID0gZnVuY3Rpb24gKCRuYW1lLCAkZGVmYXVsdCA9IGZhbHNlKSB1c2UgKCRhcmd2KSB7CiAgICBpZiAoZmFsc2UgIT09ICR2YWx1ZSA9IGdldGVudigkbmFtZSkpIHsKICAgICAgICByZXR1cm4gJHZhbHVlOwogICAgfQoKICAgIHN0YXRpYyAkcGhwdW5pdENvbmZpZyA9IG51bGw7CiAgICBpZiAobnVsbCA9PT0gJHBocHVuaXRDb25maWcpIHsKICAgICAgICAkcGhwdW5pdENvbmZpZ0ZpbGVuYW1lID0gbnVsbDsKICAgICAgICAkZ2V0UGhwVW5pdENvbmZpZyA9IGZ1bmN0aW9uICgkcHJvYmFibGVDb25maWcpIHVzZSAoJiRnZXRQaHBVbml0Q29uZmlnKSB7CiAgICAgICAgICAgIGlmICghJHByb2JhYmxlQ29uZmlnKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoaXNfZGlyKCRwcm9iYWJsZUNvbmZpZykpIHsKICAgICAgICAgICAgICAgIHJldHVybiAkZ2V0UGhwVW5pdENvbmZpZygkcHJvYmFibGVDb25maWcuXERJUkVDVE9SWV9TRVBBUkFUT1IuJ3BocHVuaXQueG1sJyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChmaWxlX2V4aXN0cygkcHJvYmFibGVDb25maWcpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJHByb2JhYmxlQ29uZmlnOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChmaWxlX2V4aXN0cygkcHJvYmFibGVDb25maWcuJy5kaXN0JykpIHsKICAgICAgICAgICAgICAgIHJldHVybiAkcHJvYmFibGVDb25maWcuJy5kaXN0JzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfTsKCiAgICAgICAgZm9yZWFjaCAoJGFyZ3YgYXMgJGNsaUFyZ3VtZW50SW5kZXggPT4gJGNsaUFyZ3VtZW50KSB7CiAgICAgICAgICAgIGlmICgnLS0nID09PSAkY2xpQXJndW1lbnQpIHsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIGxvbmcgb3B0aW9uCiAgICAgICAgICAgIGlmICgnLS1jb25maWd1cmF0aW9uJyA9PT0gJGNsaUFyZ3VtZW50ICYmIGFycmF5X2tleV9leGlzdHMoJGNsaUFyZ3VtZW50SW5kZXggKyAxLCAkYXJndikpIHsKICAgICAgICAgICAgICAgICRwaHB1bml0Q29uZmlnRmlsZW5hbWUgPSAkZ2V0UGhwVW5pdENvbmZpZygkYXJndlskY2xpQXJndW1lbnRJbmRleCArIDFdKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIHNob3J0IG9wdGlvbgogICAgICAgICAgICBpZiAoMCA9PT0gc3RycG9zKCRjbGlBcmd1bWVudCwgJy1jJykpIHsKICAgICAgICAgICAgICAgIGlmICgnLWMnID09PSAkY2xpQXJndW1lbnQgJiYgYXJyYXlfa2V5X2V4aXN0cygkY2xpQXJndW1lbnRJbmRleCArIDEsICRhcmd2KSkgewogICAgICAgICAgICAgICAgICAgICRwaHB1bml0Q29uZmlnRmlsZW5hbWUgPSAkZ2V0UGhwVW5pdENvbmZpZygkYXJndlskY2xpQXJndW1lbnRJbmRleCArIDFdKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgJHBocHVuaXRDb25maWdGaWxlbmFtZSA9ICRnZXRQaHBVbml0Q29uZmlnKHN1YnN0cigkY2xpQXJndW1lbnQsIDIpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAkcGhwdW5pdENvbmZpZ0ZpbGVuYW1lID0gJHBocHVuaXRDb25maWdGaWxlbmFtZSA/OiAkZ2V0UGhwVW5pdENvbmZpZygncGhwdW5pdC54bWwnKTsKCiAgICAgICAgaWYgKCRwaHB1bml0Q29uZmlnRmlsZW5hbWUpIHsKICAgICAgICAgICAgJHBocHVuaXRDb25maWcgPSBuZXcgRG9tRG9jdW1lbnQoKTsKICAgICAgICAgICAgJHBocHVuaXRDb25maWctPmxvYWQoJHBocHVuaXRDb25maWdGaWxlbmFtZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJHBocHVuaXRDb25maWcgPSBmYWxzZTsKICAgICAgICB9CiAgICB9CiAgICBpZiAoZmFsc2UgIT09ICRwaHB1bml0Q29uZmlnKSB7CiAgICAgICAgJHZhciA9IG5ldyBET01YcGF0aCgkcGhwdW5pdENvbmZpZyk7CiAgICAgICAgZm9yZWFjaCAoJHZhci0+cXVlcnkoJy8vcGhwL3NlcnZlcltAbmFtZT0iJy4kbmFtZS4nIl0nKSBhcyAkdmFyKSB7CiAgICAgICAgICAgIHJldHVybiAkdmFyLT5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7CiAgICAgICAgfQogICAgICAgIGZvcmVhY2ggKCR2YXItPnF1ZXJ5KCcvL3BocC9lbnZbQG5hbWU9IicuJG5hbWUuJyJdJykgYXMgJHZhcikgewogICAgICAgICAgICByZXR1cm4gJHZhci0+Z2V0QXR0cmlidXRlKCd2YWx1ZScpOwogICAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gJGRlZmF1bHQ7Cn07CgokcGFzc3RocnVPckZhaWwgPSBmdW5jdGlvbiAoJGNvbW1hbmQpIHsKICAgIHBhc3N0aHJ1KCRjb21tYW5kLCAkc3RhdHVzKTsKCiAgICBpZiAoJHN0YXR1cykgewogICAgICAgIGV4aXQoJHN0YXR1cyk7CiAgICB9Cn07CgppZiAoXFBIUF9WRVJTSU9OX0lEID49IDgwMDAwKSB7CiAgICAvLyBQSFAgOCByZXF1aXJlcyBQSFBVbml0IDkuMysKICAgICRQSFBVTklUX1ZFUlNJT04gPSAkZ2V0RW52VmFyKCdTWU1GT05ZX1BIUFVOSVRfVkVSU0lPTicsICc5LjQnKTsKfSBlbHNlaWYgKFxQSFBfVkVSU0lPTl9JRCA+PSA3MDIwMCkgewogICAgLy8gUEhQVW5pdCA4IHJlcXVpcmVzIFBIUCA3LjIrCiAgICAkUEhQVU5JVF9WRVJTSU9OID0gJGdldEVudlZhcignU1lNRk9OWV9QSFBVTklUX1ZFUlNJT04nLCAnOC4zJyk7Cn0gZWxzZWlmIChcUEhQX1ZFUlNJT05fSUQgPj0gNzAxMDApIHsKICAgIC8vIFBIUFVuaXQgNyByZXF1aXJlcyBQSFAgNy4xKwogICAgJFBIUFVOSVRfVkVSU0lPTiA9ICRnZXRFbnZWYXIoJ1NZTUZPTllfUEhQVU5JVF9WRVJTSU9OJywgJzcuNScpOwp9IGVsc2VpZiAoXFBIUF9WRVJTSU9OX0lEID49IDcwMDAwKSB7CiAgICAvLyBQSFBVbml0IDYgcmVxdWlyZXMgUEhQIDcuMCsKICAgICRQSFBVTklUX1ZFUlNJT04gPSAkZ2V0RW52VmFyKCdTWU1GT05ZX1BIUFVOSVRfVkVSU0lPTicsICc2LjUnKTsKfSBlbHNlaWYgKFxQSFBfVkVSU0lPTl9JRCA+PSA1MDYwMCkgewogICAgLy8gUEhQVW5pdCA0IGRvZXMgbm90IHN1cHBvcnQgUEhQIDcKICAgICRQSFBVTklUX1ZFUlNJT04gPSAkZ2V0RW52VmFyKCdTWU1GT05ZX1BIUFVOSVRfVkVSU0lPTicsICc1LjcnKTsKfSBlbHNlIHsKICAgIC8vIFBIUFVuaXQgNS4xIHJlcXVpcmVzIFBIUCA1LjYrCiAgICAkUEhQVU5JVF9WRVJTSU9OID0gJzQuOCc7Cn0KCiRNQVhfUEhQVU5JVF9WRVJTSU9OID0gJGdldEVudlZhcignU1lNRk9OWV9NQVhfUEhQVU5JVF9WRVJTSU9OJywgZmFsc2UpOwoKaWYgKCRNQVhfUEhQVU5JVF9WRVJTSU9OICYmIHZlcnNpb25fY29tcGFyZSgkTUFYX1BIUFVOSVRfVkVSU0lPTiwgJFBIUFVOSVRfVkVSU0lPTiwgJzwnKSkgewogICAgJFBIUFVOSVRfVkVSU0lPTiA9ICRNQVhfUEhQVU5JVF9WRVJTSU9OOwp9CgokUEhQVU5JVF9SRU1PVkVfUkVUVVJOX1RZUEVISU5UID0gZmlsdGVyX3ZhcigkZ2V0RW52VmFyKCdTWU1GT05ZX1BIUFVOSVRfUkVNT1ZFX1JFVFVSTl9UWVBFSElOVCcsICcwJyksIFxGSUxURVJfVkFMSURBVEVfQk9PTEVBTik7CgokQ09NUE9TRVJfSlNPTiA9IGdldGVudignQ09NUE9TRVInKSA/OiAnY29tcG9zZXIuanNvbic7Cgokcm9vdCA9IF9fRElSX187CndoaWxlICghZmlsZV9leGlzdHMoJHJvb3QuJy8nLiRDT01QT1NFUl9KU09OKSB8fCBmaWxlX2V4aXN0cygkcm9vdC4nL0RlcHJlY2F0aW9uRXJyb3JIYW5kbGVyLnBocCcpKSB7CiAgICBpZiAoJHJvb3QgPT09IGRpcm5hbWUoJHJvb3QpKSB7CiAgICAgICAgYnJlYWs7CiAgICB9CiAgICAkcm9vdCA9IGRpcm5hbWUoJHJvb3QpOwp9Cgokb2xkUHdkID0gZ2V0Y3dkKCk7CiRQSFBVTklUX0RJUiA9ICRnZXRFbnZWYXIoJ1NZTUZPTllfUEhQVU5JVF9ESVInLCAkcm9vdC4nL3ZlbmRvci9iaW4vLnBocHVuaXQnKTsKJFBIUCA9IGRlZmluZWQoJ1BIUF9CSU5BUlknKSA/IFxQSFBfQklOQVJZIDogJ3BocCc7CiRQSFAgPSBlc2NhcGVzaGVsbGFyZygkUEhQKTsKaWYgKCdwaHBkYmcnID09PSBcUEhQX1NBUEkpIHsKICAgICRQSFAgLj0gJyAtcXJyJzsKfQoKJGRlZmF1bHRFbnZzID0gWwogICAgJ0NPTVBPU0VSJyA9PiAnY29tcG9zZXIuanNvbicsCiAgICAnQ09NUE9TRVJfVkVORE9SX0RJUicgPT4gJ3ZlbmRvcicsCiAgICAnQ09NUE9TRVJfQklOX0RJUicgPT4gJ2JpbicsCiAgICAnU1lNRk9OWV9TSU1QTEVfUEhQVU5JVF9CSU5fRElSJyA9PiBfX0RJUl9fLApdOwoKZm9yZWFjaCAoJGRlZmF1bHRFbnZzIGFzICRlbnZOYW1lID0+ICRlbnZWYWx1ZSkgewogICAgaWYgKCRlbnZWYWx1ZSAhPT0gZ2V0ZW52KCRlbnZOYW1lKSkgewogICAgICAgIHB1dGVudigiJGVudk5hbWU9JGVudlZhbHVlIik7CiAgICAgICAgJF9TRVJWRVJbJGVudk5hbWVdID0gJF9FTlZbJGVudk5hbWVdID0gJGVudlZhbHVlOwogICAgfQp9CgppZiAoJ2Rpc2FibGVkJyA9PT0gJGdldEVudlZhcignU1lNRk9OWV9ERVBSRUNBVElPTlNfSEVMUEVSJykpIHsKICAgIHB1dGVudignU1lNRk9OWV9ERVBSRUNBVElPTlNfSEVMUEVSPWRpc2FibGVkJyk7Cn0KCiRDT01QT1NFUiA9IGZpbGVfZXhpc3RzKCRDT01QT1NFUiA9ICRvbGRQd2QuJy9jb21wb3Nlci5waGFyJykKICAgIHx8ICgkQ09NUE9TRVIgPSBydHJpbSgnXFwnID09PSBcRElSRUNUT1JZX1NFUEFSQVRPUiA/IHByZWdfcmVwbGFjZSgnL1tcclxuXS4qLycsICcnLCBgd2hlcmUuZXhlIGNvbXBvc2VyLnBoYXJgKSA6IGB3aGljaCBjb21wb3Nlci5waGFyIDI+IC9kZXYvbnVsbGApKQogICAgfHwgKCRDT01QT1NFUiA9IHJ0cmltKCdcXCcgPT09IFxESVJFQ1RPUllfU0VQQVJBVE9SID8gcHJlZ19yZXBsYWNlKCcvW1xyXG5dLiovJywgJycsIGB3aGVyZS5leGUgY29tcG9zZXJgKSA6IGB3aGljaCBjb21wb3NlciAyPiAvZGV2L251bGxgKSkKICAgIHx8IGZpbGVfZXhpc3RzKCRDT01QT1NFUiA9IHJ0cmltKCdcXCcgPT09IFxESVJFQ1RPUllfU0VQQVJBVE9SID8gYGdpdCByZXYtcGFyc2UgLS1zaG93LXRvcGxldmVsIDI+IE5VTGAgOiBgZ2l0IHJldi1wYXJzZSAtLXNob3ctdG9wbGV2ZWwgMj4gL2Rldi9udWxsYCkuXERJUkVDVE9SWV9TRVBBUkFUT1IuJ2NvbXBvc2VyLnBoYXInKQogICAgPyAoJyMhL3Vzci9iaW4vZW52IHBocCcgPT09IGZpbGVfZ2V0X2NvbnRlbnRzKCRDT01QT1NFUiwgZmFsc2UsIG51bGwsIDAsIDE4KSA/ICRQSFAgOiAnJykuJyAnLmVzY2FwZXNoZWxsYXJnKCRDT01QT1NFUikgLy8gZGV0ZWN0IHNoZWxsIHdyYXBwZXJzIGJ5IGxvb2tpbmcgYXQgdGhlIHNoZWJhbmcKICAgIDogJ2NvbXBvc2VyJzsKCiRTWU1GT05ZX1BIUFVOSVRfUkVNT1ZFID0gJGdldEVudlZhcignU1lNRk9OWV9QSFBVTklUX1JFTU9WRScsICdwaHBzcGVjL3Byb3BoZWN5Jy4oJFBIUFVOSVRfVkVSU0lPTiA8IDYuMCA/ICcgc3ltZm9ueS95YW1sJyA6ICcnKSk7CiRjb25maWd1cmF0aW9uSGFzaCA9IG1kNShpbXBsb2RlKFxQSFBfRU9MLCBbbWQ1X2ZpbGUoX19GSUxFX18pLCAkU1lNRk9OWV9QSFBVTklUX1JFTU9WRSwgKGludCkgJFBIUFVOSVRfUkVNT1ZFX1JFVFVSTl9UWVBFSElOVF0pKTsKJFBIUFVOSVRfVkVSU0lPTl9ESVIgPSBzcHJpbnRmKCdwaHB1bml0LSVzLSVkJywgJFBIUFVOSVRfVkVSU0lPTiwgJFBIUFVOSVRfUkVNT1ZFX1JFVFVSTl9UWVBFSElOVCk7CmlmICghZmlsZV9leGlzdHMoIiRQSFBVTklUX0RJUi8kUEhQVU5JVF9WRVJTSU9OX0RJUi9waHB1bml0IikgfHwgJGNvbmZpZ3VyYXRpb25IYXNoICE9PSBAZmlsZV9nZXRfY29udGVudHMoIiRQSFBVTklUX0RJUi8uJFBIUFVOSVRfVkVSU0lPTl9ESVIubWQ1IikpIHsKICAgIC8vIEJ1aWxkIGEgc3RhbmRhbG9uZSBwaHB1bml0IHdpdGhvdXQgc3ltZm9ueS95YW1sIG5vciBwcm9waGVjeSBieSBkZWZhdWx0CgogICAgQG1rZGlyKCRQSFBVTklUX0RJUiwgMDc3NywgdHJ1ZSk7CiAgICBjaGRpcigkUEhQVU5JVF9ESVIpOwogICAgaWYgKGZpbGVfZXhpc3RzKCIkUEhQVU5JVF9WRVJTSU9OX0RJUiIpKSB7CiAgICAgICAgcGFzc3RocnUoc3ByaW50ZignXFwnID09PSBcRElSRUNUT1JZX1NFUEFSQVRPUiA/ICdybWRpciAvUyAvUSAlcyA+IE5VTCcgOiAncm0gLXJmICVzJywgIiRQSFBVTklUX1ZFUlNJT05fRElSLm9sZCIpKTsKICAgICAgICByZW5hbWUoIiRQSFBVTklUX1ZFUlNJT05fRElSIiwgIiRQSFBVTklUX1ZFUlNJT05fRElSLm9sZCIpOwogICAgICAgIHBhc3N0aHJ1KHNwcmludGYoJ1xcJyA9PT0gXERJUkVDVE9SWV9TRVBBUkFUT1IgPyAncm1kaXIgL1MgL1EgJXMnIDogJ3JtIC1yZiAlcycsICIkUEhQVU5JVF9WRVJTSU9OX0RJUi5vbGQiKSk7CiAgICB9CgogICAgJGluZm8gPSBbXTsKICAgIGZvcmVhY2ggKGV4cGxvZGUoIlxuIiwgYCRDT01QT1NFUiBpbmZvIC0tbm8tYW5zaSAtYSAtbiBwaHB1bml0L3BocHVuaXQgIiRQSFBVTklUX1ZFUlNJT04uKiJgKSBhcyAkbGluZSkgewogICAgICAgICRsaW5lID0gcnRyaW0oJGxpbmUpOwoKICAgICAgICBpZiAoISRpbmZvICYmIHByZWdfbWF0Y2goJy9edmVyc2lvbnMgKzogLycsICRsaW5lKSkgewogICAgICAgICAgICAkaW5mb1sndmVyc2lvbnMnXSA9IGV4cGxvZGUoJywgJywgbHRyaW0oc3Vic3RyKCRsaW5lLCA5KSwgJzogJykpOwogICAgICAgIH0gZWxzZWlmIChpc3NldCgkaW5mb1sncmVxdWlyZXMnXSkpIHsKICAgICAgICAgICAgaWYgKCcnID09PSAkbGluZSkgewogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICRsaW5lID0gZXhwbG9kZSgnICcsICRsaW5lLCAyKTsKICAgICAgICAgICAgJGluZm9bJ3JlcXVpcmVzJ11bJGxpbmVbMF1dID0gJGxpbmVbMV07CiAgICAgICAgfSBlbHNlaWYgKCRpbmZvICYmICdyZXF1aXJlcycgPT09ICRsaW5lKSB7CiAgICAgICAgICAgICRpbmZvWydyZXF1aXJlcyddID0gW107CiAgICAgICAgfQogICAgfQoKICAgIGlmIChpbl9hcnJheSgnLS1jb2xvcnM9bmV2ZXInLCAkYXJndiwgdHJ1ZSkgfHwgKGlzc2V0KCRhcmd2WyRpID0gYXJyYXlfc2VhcmNoKCduZXZlcicsICRhcmd2LCB0cnVlKSAtIDFdKSAmJiAnLS1jb2xvcnMnID09PSAkYXJndlskaV0pKSB7CiAgICAgICAgJENPTVBPU0VSIC49ICcgLS1uby1hbnNpJzsKICAgIH0gZWxzZSB7CiAgICAgICAgJENPTVBPU0VSIC49ICcgLS1hbnNpJzsKICAgIH0KCiAgICAkaW5mbyArPSBbCiAgICAgICAgJ3ZlcnNpb25zJyA9PiBbXSwKICAgICAgICAncmVxdWlyZXMnID0+IFsncGhwJyA9PiAnKiddLAogICAgXTsKCiAgICAkc3RhYmxlVmVyc2lvbnMgPSBhcnJheV9maWx0ZXIoJGluZm9bJ3ZlcnNpb25zJ10sIGZ1bmN0aW9uICgkdikgewogICAgICAgIHJldHVybiAhcHJlZ19tYXRjaCgnLy1kZXYkfF5kZXYtLycsICR2KTsKICAgIH0pOwoKICAgIGlmICghJHN0YWJsZVZlcnNpb25zKSB7CiAgICAgICAgJHBhc3N0aHJ1T3JGYWlsKCIkQ09NUE9TRVIgY3JlYXRlLXByb2plY3QgLS1pZ25vcmUtcGxhdGZvcm0tcmVxcyAtLW5vLWluc3RhbGwgLS1wcmVmZXItZGlzdCAtLW5vLXNjcmlwdHMgLS1uby1wbHVnaW5zIC0tbm8tcHJvZ3Jlc3MgLXMgZGV2IHBocHVuaXQvcGhwdW5pdCAkUEhQVU5JVF9WRVJTSU9OX0RJUiBcIiRQSFBVTklUX1ZFUlNJT04uKlwiIik7CiAgICB9IGVsc2UgewogICAgICAgICRwYXNzdGhydU9yRmFpbCgiJENPTVBPU0VSIGNyZWF0ZS1wcm9qZWN0IC0taWdub3JlLXBsYXRmb3JtLXJlcXMgLS1uby1pbnN0YWxsIC0tcHJlZmVyLWRpc3QgLS1uby1zY3JpcHRzIC0tbm8tcGx1Z2lucyAtLW5vLXByb2dyZXNzIHBocHVuaXQvcGhwdW5pdCAkUEhQVU5JVF9WRVJTSU9OX0RJUiBcIiRQSFBVTklUX1ZFUlNJT04uKlwiIik7CiAgICB9CgogICAgQGNvcHkoIiRQSFBVTklUX1ZFUlNJT05fRElSL3BocHVuaXQueHNkIiwgJ3BocHVuaXQueHNkJyk7CiAgICBjaGRpcigiJFBIUFVOSVRfVkVSU0lPTl9ESVIiKTsKICAgIGlmICgkU1lNRk9OWV9QSFBVTklUX1JFTU9WRSkgewogICAgICAgICRwYXNzdGhydU9yRmFpbCgiJENPTVBPU0VSIHJlbW92ZSAtLW5vLXVwZGF0ZSAiLiRTWU1GT05ZX1BIUFVOSVRfUkVNT1ZFKTsKICAgIH0KICAgIGlmICg1LjEgPD0gJFBIUFVOSVRfVkVSU0lPTiAmJiAkUEhQVU5JVF9WRVJTSU9OIDwgNS40KSB7CiAgICAgICAgJHBhc3N0aHJ1T3JGYWlsKCIkQ09NUE9TRVIgcmVxdWlyZSAtLW5vLXVwZGF0ZSBwaHB1bml0L3BocHVuaXQtbW9jay1vYmplY3RzIFwifjMuMS4wXCIiKTsKICAgIH0KCiAgICBpZiAocHJlZ19tYXRjaCgne1xeKChcZCsrXC4pXGQrKylbXGRcLl0qJH0nLCAkaW5mb1sncmVxdWlyZXMnXVsncGhwJ10sICRwaHBWZXJzaW9uKSAmJiB2ZXJzaW9uX2NvbXBhcmUoJHBocFZlcnNpb25bMl0uJzk5JywgXFBIUF9WRVJTSU9OLCAnPCcpKSB7CiAgICAgICAgJHBhc3N0aHJ1T3JGYWlsKCIkQ09NUE9TRVIgY29uZmlnIHBsYXRmb3JtLnBocCBcIiRwaHBWZXJzaW9uWzFdLjk5XCIiKTsKICAgIH0gZWxzZSB7CiAgICAgICAgJHBhc3N0aHJ1T3JGYWlsKCIkQ09NUE9TRVIgY29uZmlnIC0tdW5zZXQgcGxhdGZvcm0ucGhwIik7CiAgICB9CiAgICBpZiAoZmlsZV9leGlzdHMoJHBhdGggPSAkcm9vdC4nL3ZlbmRvci9zeW1mb255L3BocHVuaXQtYnJpZGdlJykpIHsKICAgICAgICAkcGFzc3RocnVPckZhaWwoIiRDT01QT1NFUiByZXF1aXJlIC0tbm8tdXBkYXRlIHN5bWZvbnkvcGhwdW5pdC1icmlkZ2UgXCIqQGRldlwiIik7CiAgICAgICAgJHBhc3N0aHJ1T3JGYWlsKCIkQ09NUE9TRVIgY29uZmlnIHJlcG9zaXRvcmllcy5waHB1bml0LWJyaWRnZSBwYXRoICIuZXNjYXBlc2hlbGxhcmcoc3RyX3JlcGxhY2UoJy8nLCBcRElSRUNUT1JZX1NFUEFSQVRPUiwgJHBhdGgpKSk7CiAgICAgICAgaWYgKCdcXCcgPT09IFxESVJFQ1RPUllfU0VQQVJBVE9SKSB7CiAgICAgICAgICAgIGZpbGVfcHV0X2NvbnRlbnRzKCdjb21wb3Nlci5qc29uJywgcHJlZ19yZXBsYWNlKCcvXiggezh9KSJwaHB1bml0LWJyaWRnZSI6IFx7JC9tJywgIiQwXG4kMSAgICAiLicib3B0aW9ucyI6IHsic3ltbGluayI6IGZhbHNlfSwnLCBmaWxlX2dldF9jb250ZW50cygnY29tcG9zZXIuanNvbicpKSk7CiAgICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgICAkcGFzc3RocnVPckZhaWwoIiRDT01QT1NFUiByZXF1aXJlIC0tbm8tdXBkYXRlIHN5bWZvbnkvcGhwdW5pdC1icmlkZ2UgXCIqXCIiKTsKICAgIH0KICAgICRwcmV2Um9vdCA9IGdldGVudignQ09NUE9TRVJfUk9PVF9WRVJTSU9OJyk7CiAgICBwdXRlbnYoIkNPTVBPU0VSX1JPT1RfVkVSU0lPTj0kUEhQVU5JVF9WRVJTSU9OLjk5Iik7CiAgICAkcSA9ICdcXCcgPT09IFxESVJFQ1RPUllfU0VQQVJBVE9SICYmIFxQSFBfVkVSU0lPTl9JRCA8IDgwMDAwID8gJyInIDogJyc7CiAgICAvLyAtLW5vLXN1Z2dlc3QgaXMgbm90IGluIHRoZSBsaXN0IHRvIGtlZXAgY29tcGF0IHdpdGggY29tcG9zZXIgMS4wLCB3aGljaCBpcyBzaGlwcGVkIHdpdGggVWJ1bnR1IDE2LjA0TFRTCiAgICAkZXhpdCA9IHByb2NfY2xvc2UocHJvY19vcGVuKCIkcSRDT01QT1NFUiBpbnN0YWxsIC0tbm8tZGV2IC0tcHJlZmVyLWRpc3QgLS1uby1wcm9ncmVzcyAkcSIsIFtdLCAkcCwgZ2V0Y3dkKCkpKTsKICAgIHB1dGVudignQ09NUE9TRVJfUk9PVF9WRVJTSU9OJy4oZmFsc2UgIT09ICRwcmV2Um9vdCA/ICc9Jy4kcHJldlJvb3QgOiAnJykpOwogICAgaWYgKCRleGl0KSB7CiAgICAgICAgZXhpdCgkZXhpdCk7CiAgICB9CgogICAgLy8gTXV0YXRlIFRlc3RDYXNlIGNvZGUKICAgICRhbHRlcmVkQ29kZSA9IGZpbGVfZ2V0X2NvbnRlbnRzKCRhbHRlcmVkRmlsZSA9ICcuL3NyYy9GcmFtZXdvcmsvVGVzdENhc2UucGhwJyk7CiAgICBpZiAoJFBIUFVOSVRfUkVNT1ZFX1JFVFVSTl9UWVBFSElOVCkgewogICAgICAgICRhbHRlcmVkQ29kZSA9IHByZWdfcmVwbGFjZSgnL14gICAgKCg/OnByb3RlY3RlZHxwdWJsaWMpKD86IHN0YXRpYyk/IGZ1bmN0aW9uIFx3K1woXCkpOiB2b2lkL20nLCAnICAgICQxJywgJGFsdGVyZWRDb2RlKTsKICAgIH0KICAgICRhbHRlcmVkQ29kZSA9IHByZWdfcmVwbGFjZSgnL2Fic3RyYWN0IGNsYXNzICg/OlRlc3RDYXNlfFBIUFVuaXRfRnJhbWV3b3JrX1Rlc3RDYXNlKVteXHtdK1x7LycsICckMCAnLlxQSFBfRU9MLiIgICAgdXNlIFxTeW1mb255XEJyaWRnZVxQaHBVbml0XExlZ2FjeVxQb2x5ZmlsbFRlc3RDYXNlVHJhaXQ7IiwgJGFsdGVyZWRDb2RlLCAxKTsKICAgIGZpbGVfcHV0X2NvbnRlbnRzKCRhbHRlcmVkRmlsZSwgJGFsdGVyZWRDb2RlKTsKCiAgICAvLyBNdXRhdGUgQXNzZXJ0IGNvZGUKICAgICRhbHRlcmVkQ29kZSA9IGZpbGVfZ2V0X2NvbnRlbnRzKCRhbHRlcmVkRmlsZSA9ICcuL3NyYy9GcmFtZXdvcmsvQXNzZXJ0LnBocCcpOwogICAgJGFsdGVyZWRDb2RlID0gcHJlZ19yZXBsYWNlKCcvYWJzdHJhY3QgY2xhc3MgKD86QXNzZXJ0fFBIUFVuaXRfRnJhbWV3b3JrX0Fzc2VydClbXlx7XStcey8nLCAnJDAgJy5cUEhQX0VPTC4iICAgIHVzZSBcU3ltZm9ueVxCcmlkZ2VcUGhwVW5pdFxMZWdhY3lcUG9seWZpbGxBc3NlcnRUcmFpdDsiLCAkYWx0ZXJlZENvZGUsIDEpOwogICAgZmlsZV9wdXRfY29udGVudHMoJGFsdGVyZWRGaWxlLCAkYWx0ZXJlZENvZGUpOwoKICAgIGZpbGVfcHV0X2NvbnRlbnRzKCdwaHB1bml0JywgPDw8J0VPUEhQJwo8P3BocAoKZGVmaW5lKCdQSFBVTklUX0NPTVBPU0VSX0lOU1RBTEwnLCBfX0RJUl9fLicvdmVuZG9yL2F1dG9sb2FkLnBocCcpOwpyZXF1aXJlIFBIUFVOSVRfQ09NUE9TRVJfSU5TVEFMTDsKCmlmICghY2xhc3NfZXhpc3RzKCdTeW1mb255RXhjbHVkZUxpc3RQaHB1bml0JywgZmFsc2UpKSB7CiAgICBjbGFzcyBTeW1mb255RXhjbHVkZUxpc3RQaHB1bml0IHt9Cn0KaWYgKG1ldGhvZF9leGlzdHMoJ1BIUFVuaXRcVXRpbFxFeGNsdWRlTGlzdCcsICdhZGREaXJlY3RvcnknKSkgewogICAgKG5ldyBQSFBVbml0XFV0aWxcRXhjbHVkZWxpc3QoKSktPmdldEV4Y2x1ZGVkRGlyZWN0b3JpZXMoKTsKICAgIFBIUFVuaXRcVXRpbFxFeGNsdWRlTGlzdDo6YWRkRGlyZWN0b3J5KFxkaXJuYW1lKChuZXcgXFJlZmxlY3Rpb25DbGFzcygnU3ltZm9ueUV4Y2x1ZGVMaXN0UGhwdW5pdCcpKS0+Z2V0RmlsZU5hbWUoKSkpOwogICAgY2xhc3NfZXhpc3RzKCdTeW1mb255RXhjbHVkZUxpc3RTaW1wbGVQaHB1bml0JywgZmFsc2UpICYmIFBIUFVuaXRcVXRpbFxFeGNsdWRlTGlzdDo6YWRkRGlyZWN0b3J5KFxkaXJuYW1lKChuZXcgXFJlZmxlY3Rpb25DbGFzcygnU3ltZm9ueUV4Y2x1ZGVMaXN0U2ltcGxlUGhwdW5pdCcpKS0+Z2V0RmlsZU5hbWUoKSkpOwp9IGVsc2VpZiAobWV0aG9kX2V4aXN0cygnUEhQVW5pdFxVdGlsXEJsYWNrbGlzdCcsICdhZGREaXJlY3RvcnknKSkgewogICAgKG5ldyBQSFBVbml0XFV0aWxcQmxhY2tMaXN0KCkpLT5nZXRCbGFja2xpc3RlZERpcmVjdG9yaWVzKCk7CiAgICBQSFBVbml0XFV0aWxcQmxhY2tsaXN0OjphZGREaXJlY3RvcnkoXGRpcm5hbWUoKG5ldyBcUmVmbGVjdGlvbkNsYXNzKCdTeW1mb255RXhjbHVkZUxpc3RQaHB1bml0JykpLT5nZXRGaWxlTmFtZSgpKSk7CiAgICBjbGFzc19leGlzdHMoJ1N5bWZvbnlFeGNsdWRlTGlzdFNpbXBsZVBocHVuaXQnLCBmYWxzZSkgJiYgUEhQVW5pdFxVdGlsXEJsYWNrbGlzdDo6YWRkRGlyZWN0b3J5KFxkaXJuYW1lKChuZXcgXFJlZmxlY3Rpb25DbGFzcygnU3ltZm9ueUV4Y2x1ZGVMaXN0U2ltcGxlUGhwdW5pdCcpKS0+Z2V0RmlsZU5hbWUoKSkpOwp9IGVsc2UgewogICAgUEhQVW5pdFxVdGlsXEJsYWNrbGlzdDo6JGJsYWNrbGlzdGVkQ2xhc3NOYW1lc1snU3ltZm9ueUV4Y2x1ZGVMaXN0UGhwdW5pdCddID0gMTsKICAgIFBIUFVuaXRcVXRpbFxCbGFja2xpc3Q6OiRibGFja2xpc3RlZENsYXNzTmFtZXNbJ1N5bWZvbnlFeGNsdWRlTGlzdFNpbXBsZVBocHVuaXQnXSA9IDE7Cn0KClN5bWZvbnlcQnJpZGdlXFBocFVuaXRcVGV4dFVJXENvbW1hbmQ6Om1haW4oKTsKCkVPUEhQCiAgICApOwogICAgY2hkaXIoJy4uJyk7CiAgICBmaWxlX3B1dF9jb250ZW50cygiLiRQSFBVTklUX1ZFUlNJT05fRElSLm1kNSIsICRjb25maWd1cmF0aW9uSGFzaCk7CiAgICBjaGRpcigkb2xkUHdkKTsKfQoKLy8gQ3JlYXRlIGEgc3ltbGluayB3aXRoIGEgcHJlZGljdGFibGUgcGF0aCBwb2ludGluZyB0byB0aGUgY3VycmVudGx5IHVzZWQgdmVyc2lvbi4KLy8gVGhpcyBpcyB1c2VmdWwgZm9yIHN0YXRpYyBhbmFseXRpY3MgdG9vbHMgc3VjaCBhcyBQSFBTdGFuIGhhdmluZyB0byBsb2FkIFBIUFVuaXQncyBjbGFzc2VzCi8vIGFuZCBmb3Igb3RoZXIgdGVzdGluZyBsaWJyYXJpZXMgc3VjaCBhcyBCZWhhdCB1c2luZyBQSFBVbml0J3MgYXNzZXJ0aW9ucy4KY2hkaXIoJFBIUFVOSVRfRElSKTsKaWYgKGZpbGVfZXhpc3RzKCdwaHB1bml0JykpIHsKICAgIEB1bmxpbmsoJ3BocHVuaXQnKTsKfQpAc3ltbGluaygkUEhQVU5JVF9WRVJTSU9OX0RJUiwgJ3BocHVuaXQnKTsKY2hkaXIoJG9sZFB3ZCk7CgppZiAoJFBIUFVOSVRfVkVSU0lPTiA8IDguMCkgewogICAgJGFyZ3YgPSBhcnJheV9maWx0ZXIoJGFyZ3YsIGZ1bmN0aW9uICgkdikgdXNlICgmJGFyZ2MpIHsKICAgICAgICBpZiAoJy0tZG8tbm90LWNhY2hlLXJlc3VsdCcgIT09ICR2KSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICAtLSRhcmdjOwoKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9KTsKfSBlbHNlaWYgKGZpbHRlcl92YXIoZ2V0ZW52KCdTWU1GT05ZX1BIUFVOSVRfRElTQUJMRV9SRVNVTFRfQ0FDSEUnKSwgXEZJTFRFUl9WQUxJREFURV9CT09MRUFOKSkgewogICAgJGFyZ3ZbXSA9ICctLWRvLW5vdC1jYWNoZS1yZXN1bHQnOwogICAgKyskYXJnYzsKfQoKJGNvbXBvbmVudHMgPSBbXTsKJGNtZCA9IGFycmF5X21hcCgnZXNjYXBlc2hlbGxhcmcnLCAkYXJndik7CiRleGl0ID0gMDsKCmlmIChpc3NldCgkYXJndlsxXSkgJiYgJ3N5bWZvbnknID09PSAkYXJndlsxXSAmJiAhZmlsZV9leGlzdHMoJ3N5bWZvbnknKSAmJiBmaWxlX2V4aXN0cygnc3JjL1N5bWZvbnknKSkgewogICAgJGFyZ3ZbMV0gPSAnc3JjL1N5bWZvbnknOwp9CmlmIChpc3NldCgkYXJndlsxXSkgJiYgaXNfZGlyKCRhcmd2WzFdKSAmJiAhZmlsZV9leGlzdHMoJGFyZ3ZbMV0uJy9waHB1bml0LnhtbC5kaXN0JykpIHsKICAgIC8vIEZpbmQgU3ltZm9ueSBjb21wb25lbnRzIGluIHBsYWluIHBocCBmb3IgV2luZG93cyBwb3J0YWJpbGl0eQoKICAgICRmaW5kZXIgPSBuZXcgUmVjdXJzaXZlRGlyZWN0b3J5SXRlcmF0b3IoJGFyZ3ZbMV0sIEZpbGVzeXN0ZW1JdGVyYXRvcjo6S0VZX0FTX0ZJTEVOQU1FIHwgRmlsZXN5c3RlbUl0ZXJhdG9yOjpVTklYX1BBVEhTKTsKICAgICRmaW5kZXIgPSBuZXcgUmVjdXJzaXZlSXRlcmF0b3JJdGVyYXRvcigkZmluZGVyKTsKICAgICRmaW5kZXItPnNldE1heERlcHRoKGdldGVudignU1lNRk9OWV9QSFBVTklUX01BWF9ERVBUSCcpID86IDMpOwoKICAgIGZvcmVhY2ggKCRmaW5kZXIgYXMgJGZpbGUgPT4gJGZpbGVJbmZvKSB7CiAgICAgICAgaWYgKCdwaHB1bml0LnhtbC5kaXN0JyA9PT0gJGZpbGUpIHsKICAgICAgICAgICAgJGNvbXBvbmVudHNbXSA9IGRpcm5hbWUoJGZpbGVJbmZvLT5nZXRQYXRobmFtZSgpKTsKICAgICAgICB9CiAgICB9CiAgICBpZiAoJGNvbXBvbmVudHMpIHsKICAgICAgICBhcnJheV9zaGlmdCgkY21kKTsKICAgIH0KfQoKJGNtZFswXSA9IHNwcmludGYoJyVzICVzIC0tY29sb3JzPWFsd2F5cycsICRQSFAsIGVzY2FwZXNoZWxsYXJnKCIkUEhQVU5JVF9ESVIvJFBIUFVOSVRfVkVSU0lPTl9ESVIvcGhwdW5pdCIpKTsKJGNtZCA9IHN0cl9yZXBsYWNlKCclJywgJyUlJywgaW1wbG9kZSgnICcsICRjbWQpKS4nICUxJHMnOwoKaWYgKCdcXCcgPT09IFxESVJFQ1RPUllfU0VQQVJBVE9SKSB7CiAgICAkY21kID0gJ2NtZCAvdjpvbiAvZCAvYyAiKCcuJGNtZC4nKSUyJHMiJzsKfSBlbHNlIHsKICAgICRjbWQgLj0gJyUyJHMnOwp9CgppZiAoJGNvbXBvbmVudHMpIHsKICAgICRza2lwcGVkVGVzdHMgPSBpc3NldCgkX1NFUlZFUlsnU1lNRk9OWV9QSFBVTklUX1NLSVBQRURfVEVTVFMnXSkgPyAkX1NFUlZFUlsnU1lNRk9OWV9QSFBVTklUX1NLSVBQRURfVEVTVFMnXSA6IGZhbHNlOwogICAgJHJ1bm5pbmdQcm9jcyA9IFtdOwoKICAgIGZvcmVhY2ggKCRjb21wb25lbnRzIGFzICRjb21wb25lbnQpIHsKICAgICAgICAvLyBSdW4gcGhwdW5pdCB0ZXN0cyBpbiBwYXJhbGxlbAoKICAgICAgICBpZiAoJHNraXBwZWRUZXN0cykgewogICAgICAgICAgICBwdXRlbnYoIlNZTUZPTllfUEhQVU5JVF9TS0lQUEVEX1RFU1RTPSRjb21wb25lbnQvJHNraXBwZWRUZXN0cyIpOwogICAgICAgIH0KCiAgICAgICAgJGMgPSBlc2NhcGVzaGVsbGFyZygkY29tcG9uZW50KTsKCiAgICAgICAgaWYgKCRwcm9jID0gcHJvY19vcGVuKHNwcmludGYoJGNtZCwgJGMsICIgPiAkYy9waHB1bml0LnN0ZG91dCAyPiAkYy9waHB1bml0LnN0ZGVyciIpLCBbXSwgJHBpcGVzKSkgewogICAgICAgICAgICAkcnVubmluZ1Byb2NzWyRjb21wb25lbnRdID0gJHByb2M7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJGV4aXQgPSAxOwogICAgICAgICAgICBlY2hvICJcMDMzWzQxbUtPXDAzM1swbSAkY29tcG9uZW50XG5cbiI7CiAgICAgICAgfQogICAgfQoKICAgIHdoaWxlICgkcnVubmluZ1Byb2NzKSB7CiAgICAgICAgdXNsZWVwKDMwMDAwMCk7CiAgICAgICAgJHRlcm1pbmF0ZWRQcm9jcyA9IFtdOwogICAgICAgIGZvcmVhY2ggKCRydW5uaW5nUHJvY3MgYXMgJGNvbXBvbmVudCA9PiAkcHJvYykgewogICAgICAgICAgICAkcHJvY1N0YXR1cyA9IHByb2NfZ2V0X3N0YXR1cygkcHJvYyk7CiAgICAgICAgICAgIGlmICghJHByb2NTdGF0dXNbJ3J1bm5pbmcnXSkgewogICAgICAgICAgICAgICAgJHRlcm1pbmF0ZWRQcm9jc1skY29tcG9uZW50XSA9ICRwcm9jU3RhdHVzWydleGl0Y29kZSddOwogICAgICAgICAgICAgICAgdW5zZXQoJHJ1bm5pbmdQcm9jc1skY29tcG9uZW50XSk7CiAgICAgICAgICAgICAgICBwcm9jX2Nsb3NlKCRwcm9jKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZm9yZWFjaCAoJHRlcm1pbmF0ZWRQcm9jcyBhcyAkY29tcG9uZW50ID0+ICRwcm9jU3RhdHVzKSB7CiAgICAgICAgICAgIGZvcmVhY2ggKFsnb3V0JywgJ2VyciddIGFzICRmaWxlKSB7CiAgICAgICAgICAgICAgICAkZmlsZSA9ICIkY29tcG9uZW50L3BocHVuaXQuc3RkJGZpbGUiOwogICAgICAgICAgICAgICAgcmVhZGZpbGUoJGZpbGUpOwogICAgICAgICAgICAgICAgdW5saW5rKCRmaWxlKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gRmFpbCBvbiBhbnkgaW5kaXZpZHVhbCBjb21wb25lbnQgZmFpbHVyZXMgYnV0IGlnbm9yZSBzb21lIGVycm9yIGNvZGVzIG9uIFdpbmRvd3Mgd2hlbiBBUEN1IGlzIGVuYWJsZWQ6CiAgICAgICAgICAgIC8vIFNUQVRVU19TVEFDS19CVUZGRVJfT1ZFUlJVTiAoLTEwNzM3NDA3OTEvMHhDMDAwMDQwOSkKICAgICAgICAgICAgLy8gU1RBVFVTX0FDQ0VTU19WSU9MQVRJT04gKC0xMDczNzQxODE5LzB4QzAwMDAwMDUpCiAgICAgICAgICAgIC8vIFNUQVRVU19IRUFQX0NPUlJVUFRJT04gKC0xMDczNzQwOTQwLzB4QzAwMDAzNzQpCiAgICAgICAgICAgIGlmICgkcHJvY1N0YXR1cyAmJiAoJ1xcJyAhPT0gXERJUkVDVE9SWV9TRVBBUkFUT1IgfHwgIWV4dGVuc2lvbl9sb2FkZWQoJ2FwY3UnKSB8fCAhZmlsdGVyX3ZhcihpbmlfZ2V0KCdhcGMuZW5hYmxlX2NsaScpLCBcRklMVEVSX1ZBTElEQVRFX0JPT0xFQU4pIHx8ICFpbl9hcnJheSgkcHJvY1N0YXR1cywgWy0xMDczNzQwNzkxLCAtMTA3Mzc0MTgxOSwgLTEwNzM3NDA5NDBdKSkpIHsKICAgICAgICAgICAgICAgICRleGl0ID0gJHByb2NTdGF0dXM7CiAgICAgICAgICAgICAgICBlY2hvICJcMDMzWzQxbUtPXDAzM1swbSAkY29tcG9uZW50XG5cbiI7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBlY2hvICJcMDMzWzMybU9LXDAzM1swbSAkY29tcG9uZW50XG5cbiI7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0gZWxzZWlmICghaXNzZXQoJGFyZ3ZbMV0pIHx8ICdpbnN0YWxsJyAhPT0gJGFyZ3ZbMV0gfHwgZmlsZV9leGlzdHMoJ2luc3RhbGwnKSkgewogICAgaWYgKCFjbGFzc19leGlzdHMoJ1N5bWZvbnlFeGNsdWRlTGlzdFNpbXBsZVBocHVuaXQnLCBmYWxzZSkpIHsKICAgICAgICBjbGFzcyBTeW1mb255RXhjbHVkZUxpc3RTaW1wbGVQaHB1bml0CiAgICAgICAgewogICAgICAgIH0KICAgIH0KICAgIGFycmF5X3NwbGljZSgkYXJndiwgMSwgMCwgWyctLWNvbG9ycz1hbHdheXMnXSk7CiAgICAkX1NFUlZFUlsnYXJndiddID0gJGFyZ3Y7CiAgICAkX1NFUlZFUlsnYXJnYyddID0gKyskYXJnYzsKICAgIGluY2x1ZGUgIiRQSFBVTklUX0RJUi8kUEhQVU5JVF9WRVJTSU9OX0RJUi9waHB1bml0IjsKfQoKZXhpdCgkZXhpdCk7CiI7czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBuYW1lc3BhY2VzIjthOjA6e31zOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGluY2x1ZGVzIjthOjA6e31zOjQ0OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGZ1bmN0aW9ucyI7YTowOnt9czo0NDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBjb25zdGFudHMiO2E6MDp7fXM6NDI6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAY2xhc3NlcyI7YToxOntzOjMyOiJcU3ltZm9ueUV4Y2x1ZGVMaXN0U2ltcGxlUGhwdW5pdCI7TzozNToicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxDbGFzc18iOjExOntzOjQyOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxDbGFzc18AZnFzZW4iO086MzA6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxGcXNlbiI6Mjp7czozNzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxGcXNlbgBmcXNlbiI7czozMjoiXFN5bWZvbnlFeGNsdWRlTGlzdFNpbXBsZVBocHVuaXQiO3M6MzY6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRnFzZW4AbmFtZSI7czozMToiU3ltZm9ueUV4Y2x1ZGVMaXN0U2ltcGxlUGhwdW5pdCI7fXM6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXENsYXNzXwBkb2NCbG9jayI7TjtzOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxDbGFzc18AYWJzdHJhY3QiO2I6MDtzOjQyOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxDbGFzc18AZmluYWwiO2I6MDtzOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxDbGFzc18AcGFyZW50IjtOO3M6NDc6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXENsYXNzXwBpbXBsZW1lbnRzIjthOjA6e31zOjQ2OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxDbGFzc18AY29uc3RhbnRzIjthOjA6e31zOjQ3OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxDbGFzc18AcHJvcGVydGllcyI7YTowOnt9czo0NDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQ2xhc3NfAG1ldGhvZHMiO2E6MDp7fXM6NDc6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXENsYXNzXwB1c2VkVHJhaXRzIjthOjA6e31zOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxDbGFzc18AbG9jYXRpb24iO086MzM6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbiI6Mjp7czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbgBsaW5lTnVtYmVyIjtpOjQwODtzOjQ3OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXExvY2F0aW9uAGNvbHVtbk51bWJlciI7aTowO319fXM6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW50ZXJmYWNlcyI7YTowOnt9czo0MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQB0cmFpdHMiO2E6MDp7fX0=";